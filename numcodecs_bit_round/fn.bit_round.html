<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Floating-point bit rounding."><title>bit_round in numcodecs_bit_round - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-b25d77b18a16a9a4.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="numcodecs_bit_round" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0-nightly (6de928dce 2024-08-18)" data-channel="nightly" data-search-js="search-ef54e092fea9c776.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-cb0df477c2d67d00.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../numcodecs_bit_round/index.html">numcodecs_<wbr>bit_<wbr>round</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="index.html">numcodecs_bit_round</a>::<wbr><a class="fn" href="#">bit_round</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/numcodecs_bit_round/lib.rs.html#124-163">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub fn bit_round&lt;T: <a class="trait" href="trait.Float.html" title="trait numcodecs_bit_round::Float">Float</a>, S: <a class="trait" href="https://docs.rs/ndarray/0.15/ndarray/data_traits/trait.Data.html" title="trait ndarray::data_traits::Data">Data</a>&lt;Elem = T&gt;, D: <a class="trait" href="https://docs.rs/ndarray/0.15/ndarray/dimension/dimension_trait/trait.Dimension.html" title="trait ndarray::dimension::dimension_trait::Dimension">Dimension</a>&gt;(
    data: <a class="struct" href="https://docs.rs/ndarray/0.15/ndarray/struct.ArrayBase.html" title="struct ndarray::ArrayBase">ArrayBase</a>&lt;S, D&gt;,
    keepbits: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="type" href="https://docs.rs/ndarray/0.15/ndarray/type.Array.html" title="type ndarray::Array">Array</a>&lt;T, D&gt;, <a class="enum" href="enum.BitRoundCodecError.html" title="enum numcodecs_bit_round::BitRoundCodecError">BitRoundCodecError</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Floating-point bit rounding.</p>
<p>Drops the specified number of bits from the floating point mantissa,
leaving an array that is more amenable to compression. The number of
bits to keep should be determined by information analysis of the data
to be compressed.</p>
<p>The approach is based on the paper by Klöwer et al. 2021
(<a href="https://www.nature.com/articles/s43588-021-00156-2">https://www.nature.com/articles/s43588-021-00156-2</a>).</p>
<p>See <a href="https://github.com/milankl/BitInformation.jl">https://github.com/milankl/BitInformation.jl</a> for the the original
implementation in Julia.</p>
<h2 id="errors"><a class="doc-anchor" href="#errors">§</a>Errors</h2>
<p>Errors with <a href="enum.BitRoundCodecError.html#variant.ExcessiveKeepBits" title="variant numcodecs_bit_round::BitRoundCodecError::ExcessiveKeepBits"><code>BitRoundCodecError::ExcessiveKeepBits</code></a> if <code>keepbits</code> exceeds
<a href="trait.Float.html#associatedconstant.MANITSSA_BITS" title="associated constant numcodecs_bit_round::Float::MANITSSA_BITS"><code>T::MANITSSA_BITS</code></a>.</p>
</div></details></section></div></main></body></html>